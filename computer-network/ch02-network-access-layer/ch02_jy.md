
## **Ch 2. 네트워크 엑세스 계층**

### **01. 이더넷**

#### **이더넷이란**
"물리계층에서 본 이더넷"
- WAN > 인터넷

- LAN > 이더넷

- 현대 (유선) LAN에서 가장 대중적으로 사용되는 기술

- 물리 계층, 데이터 링크 계층 (네트워크 엑세스 계층) 스펙/프로토콜 정의

- 이더넷 표준 규격 버전 : 802.3 뒤 알파벳으로 표기
    
    - 이더넷 표준 규격이 달라지면 케이블, 전송 속도 등이 달라질 수 있다.

    - 이더넷 케이블을 지칭할 때 : 전속속도 BASE - 추가특성(10BASE-T, 25GBASE-LR)

        - 추가특성
            - C : 동축 케이블

            - T : 트위스티드 페어 케이블

            - S : 멀티 모드 광케이블

            - L : 싱글 모드 광케이블

    - "8:00 에 속도가 이상함 강사님 말이 맞는건지"

#### **이더넷 기술**
- 물리 계층 : 이더넷으로 통신이 가능한 케이블

- 데이터 링크 : 이더넷 프레임

- 'https://www.ieee802.org/3/' 이더넷 규격으로 통신하기위한 표준들을 만듦

<hr/>

"데이터 링크 계층에서 본 이더넷"
#### 이더넷 프레임 
- 이더넷 네트워크에서 주고받는 데이터 형싱

- 프리엠블 
    -  이더넷 프레임의 시작을 알리는 비트열, 송수신간의 동기화 첫 7바이트는 10101010, 마지막 1바이트는 10101011(SFD)

>- **목적지/ 송신지 MAC 주소**
>    - 물리적 주소, 네트워크 장지(NIC)마다 할당된 고유한 주소 네트워크 세상의 주민번호
>
>    - NIC(네트워크 인터페이스)
>
>        + 연결 매체를 통해 받은 신호를 컴퓨터에게 전달
>
>        + 네트워크에 연결하기 위한 하드웨어
>
>        + 프레임을 판단 폐기

- 이더타입/길이
    - 1536 이상일 경우 : 이더타입
    
    - 1500 이하일 경우 : 프레임 크기

- 페이로드
    - 운반할 데이터

- FCS
    - 오류 검출을 위한 CRC 값이 명시되는 필드
    - 송수신 host가 2개 연결되어있을 때 수신지에서 CRC값을 계산 비교 후 수신 or 폐기

<hr/>

### **02. 허브와 CSMA/CD**

#### 허브(hub)
- 물리계층의 장비

- MAC 주소를 사용하지 않는다 (MAC주소는 데이터 링크 계층 개념)

- 호스트를 연결할 수 있는 포트 (port)

- 주소 개념이 없기 때문에 모든 포트로 정보를 내보냄

- 최근에는 잘 사용하지 않음

>- **반이중 통신(half-duplex)**
>    - 송신 혹은 수진이 한 번에 한 번만 이루어지는 통신 (e.g. 무전기)
>    
>    - 동시에 허브로 데이터를 전송한 경우 충돌이 발생(범위:콜리전 도메인)
>        - 허브일 경우 port에 연결된 모든 host

>- **전이중 통신(full-duplex)**
>    - 송신과 수신이 동시에 이루어지는 통신(e.g. 전화)

>##### **반이중 이더넷의 충돌을 해결하기 위한 CSMA/CD**
>1. CS: Carrier Sense
>    - 캐리어(반송파) 감지 : 메세지 전송 전 현재 전송중인 것이 있는지 확인
>
>2. MA: Multiple Access
>    - 다중 접근 : 두 개 이상의 호스트가 동시에 네트워크에 접근(충돌 발생)
>
>3. CD: Collision Detection
>    - 충돌 감지 : 잼 신호(jam sigmal)를 보낸 뒤 임의의 시간 동안 대기 후 재전송

##### **허브의 특성**
- 전달 받은 신호를 모든 포트로 내보냄

- 연결된 모든 호스트가 충돌 도메인

- 반이중 모드로 통신

<hr/>

### **03. 스위치와 VLAN**


#### **스위치**

- 전달 받은 신호를 목적지 포트로만 내보내고 목적지 호스트가 연결된 곳만 충돌 도메인에 속해 있으며 전이중 모드로 통신하는 '데이터 링크 계층의 장비'(MAC주소)

>#### **MAC 주소 학습 기능**
>- 포트에 연결된 호스트와 MAC 주소의 관계를 기억하는 스위치 기능
>
>- MAC 주소 테이블
>
>- 송신지 MAC주소를 기반으로 학습
>
>##### **MAC 주소 학습 과정**
>
>1. 플러딩
>    - 허브와 같이 모든 포트에 프레임 전송
>
>2. 포워딩과 필터링
>    - 어떤 포트로 내보내지 않을지 결정
>
>3. 에이징
>    - 특정시간이 지나면 MAC주소 테이블 항목 삭제

"에이징의 특정시간이 지나지 않았을 때 포트에 다른 호스트를 연결한다면 데이터를 줄 수 없나 ?"

#### **VLAN이란(Virtual LAN)**
- 스위치 기능

- 가상의 LAN

>- **브로드캐스트 도메인을 나누기 위함**
>    - 다른부서랑 스위치가 물려있으면 브로드캐스트로 공지를 내릴때 다른부서까지 공지가 간다 그래서 VLAN을 나누어 사용
>    - 다른부서랑 연결을 하고 싶을 때 네트워크 계층 이상의 장비를 필요로함(라우터)

#### **VLAN의 종류**
- 포트 기반의 VLAN 
    - 특정 포트를 기반으로 나눔
    
- MAC주소 기반 VLAN(동적 VLAN)
    - 특정 MAC주소를 따라 VLAN 구분
